{% extends "admin/adminbase.html" %}

{% load static %}

{% block title %}
  Air Ticketing
{% endblock %}
{% block body %}
  <div class="container mt-4">
    <!-- Add Ticket Button -->
    <div class="add-package-btn text-end mb-3">
      <a class="btn btn-primary btn-lg mt-2" href="{% url 'add-airticket' %}">Add Ticket</a>
    </div>

    <!-- Package Table -->
    <div class="package-table mt-5">
      <h1 class="text-center" style="position: relative; bottom: 12px;">Ticket Management</h1>
      {% if messages %}
        <div class="messages mt-4">
          {% for message in messages %}
            <p class="{{ message.tags }}">{{ message }}</p>
          {% endfor %}
        </div>
      {% endif %}
      <table class="table table-striped table-hover">
        <thead class="table-dark">
          <tr>
            <th>Airline</th>
            <th>Departure</th>
            <th>Destinations</th>
            <th>Date</th>
            <th>Price</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          {% for i in air_ticket %}
            <tr>
              <td>{{ i.airline }}</td>
              <td>{{ i.departure }}</td>
              <td>{{ i.destination }}</td>
              <td>{{ i.date_of_flight }}</td>
              <td>{{ i.price }}</td>
              <td>
                <a href="{% url 'updateairticket' i.flight_number %}" class="btn btn-warning btn-sm me-2"><i class="bi bi-pencil-square"></i></a>
                <a href="{% url 'delete_airticket' i.flight_number %}" class="btn btn-danger btn-sm"
                onclick="return confirm('Are you sure you want to delete this user?');"><i class="bi bi-trash"></i></a>
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
{% endblock %}

{% block js %}
  <script src="{% static 'js/script.js' %}"></script>
{% endblock %}