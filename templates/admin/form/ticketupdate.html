{% extends 'admin/adminbase.html' %}

{% block title %}
  Update Air Ticket
{% endblock %}

{% block body %}
  <div class="container d-flex justify-content-center align-items-center" style="height: 82vh; margin-left: 250px;">
    <div class="form-container p-4" style="background-color: #d3d3d3; border-radius: 10px; width: 600px; height: 500px; overflow-y: auto;">
      <h2 class="text-center mb-3">Update Air Ticket Detail</h2>
      
      <!-- Adding enctype for file upload -->
      <form action="{% url "save_air_ticket_update" air_ticket.flight_number %}" method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        
        <!-- Airline -->
        <div class="mb-2">
          <label for="airline" class="form-label">Airline</label>
          <input type="text" class="form-control" name="airline" placeholder="Airline" value="{{ air_ticket.airline }}" required style="border-radius: 10px;" />
        </div>
        
        <!-- Flight Number -->
        <div class="mb-2">
          <label for="flight_number" class="form-label">Flight Number</label>
          <input type="text" class="form-control" name="flight_number" placeholder="Flight Number" value="{{ air_ticket.flight_number }}" required style="border-radius: 10px;" />
        </div>
        
        <!-- Departure Location -->
        <div class="mb-2">
          <label for="departure" class="form-label">Departure Location</label>
          <input type="text" class="form-control" name="departure" placeholder="Departure Location" value="{{ air_ticket.departure }}" required style="border-radius: 10px;" />
        </div>
        
        <!-- Destination -->
        <div class="mb-2">
          <label for="destination" class="form-label">Destination</label>
          <input type="text" class="form-control" name="destination" placeholder="Destination" value="{{ air_ticket.destination }}" required style="border-radius: 10px;" />
        </div>
        
        <!-- Date of Flight -->
        <div class="mb-2">
          <label for="date_of_flight" class="form-label">Date of Flight</label>
          <input type="date" class="form-control" name="date_of_flight" value="{{ air_ticket.date_of_flight|date:'Y-m-d' }}" required style="border-radius: 10px;" />
        </div>
        
        <!-- Price -->
        <div class="mb-2">
          <label for="price" class="form-label">Price of Ticket</label>
          <input type="number" class="form-control" name="price" placeholder="Price of Ticket" value="{{ air_ticket.price }}" required style="border-radius: 10px;" />
        </div>
        
        <!-- Airline Logo -->
        <div class="mb-2">
          <label for="airline_logo" class="form-label">Airline Logo</label>
          <input type="file" class="form-control" name="airline_logo" style="border-radius: 10px;" /> 
          
            <img src="{{ air_ticket.airline_logo.url }}" alt="Airline Logo" style="max-height: 100px; margin-top: 10px;">
          
        </div>
        
        <!-- Submit Button -->
        <div class="text-center">
          <button type="submit" class="btn btn-primary submit-btn" style="border-radius: 10px; margin-top:20px; background-color: #0D96F2;">Submit</button>
        </div>
      </form>
    </div>
  </div>
{% endblock %}
